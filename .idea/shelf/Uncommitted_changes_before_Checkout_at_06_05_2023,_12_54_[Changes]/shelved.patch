Index: src/main/java/by/kozlov/jdbc/starter/servlet/UpdateProductionServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package by.kozlov.jdbc.starter.servlet;\n\nimport by.kozlov.jdbc.starter.dto.CreateProductionDto;\nimport by.kozlov.jdbc.starter.dto.UpdateProductionDto;\nimport by.kozlov.jdbc.starter.exception.ValidationException;\nimport by.kozlov.jdbc.starter.service.ProductionService;\nimport by.kozlov.jdbc.starter.service.SetService;\nimport by.kozlov.jdbc.starter.service.WorkerService;\nimport by.kozlov.jdbc.starter.utils.JspHelper;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\n\n@WebServlet(\"/updateProduction\")\npublic class UpdateProductionServlet extends HttpServlet {\n\n    private final ProductionService productionService = ProductionService.getInstance();\n    private final SetService setService = SetService.getInstance();\n    private final WorkerService workerService = WorkerService.getInstance();\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        var sets = setService.findAll();\n        var workers = workerService.findAll();\n        var idProduction = Integer.parseInt(req.getParameter(\"id\"));\n        var workerSet = productionService.findById(idProduction)\n                .orElseThrow();\n        req.setAttribute(\"sets\",sets);\n        req.setAttribute(\"workers\",workers);\n        req.setAttribute(\"workerSet\",workerSet);\n        req.setAttribute(\"id\",idProduction);\n        req.getRequestDispatcher(JspHelper.getPath(\"updateProduction\")).forward(req, resp);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        var productDto = UpdateProductionDto.builder()\n                .id(req.getParameter(\"idProduction\"))\n                .worker(req.getParameter(\"workerId\"))\n                .set(req.getParameter(\"setId\"))\n                .madeSets(req.getParameter(\"madeSets\"))\n                .dateOfProduction(req.getParameter(\"dateOfProduction\"))\n                .build();\n        try {\n            productionService.update(productDto);\n            resp.sendRedirect(\"./production\");\n        } catch (ValidationException exception) {\n            req.setAttribute(\"errors\", exception.getErrors());\n            req.setAttribute(\"id\",req.getParameter(\"idProduction\"));\n            doGet(req, resp);\n        }\n    }\n}\n
===================================================================
diff --git a/src/main/java/by/kozlov/jdbc/starter/servlet/UpdateProductionServlet.java b/src/main/java/by/kozlov/jdbc/starter/servlet/UpdateProductionServlet.java
--- a/src/main/java/by/kozlov/jdbc/starter/servlet/UpdateProductionServlet.java	
+++ b/src/main/java/by/kozlov/jdbc/starter/servlet/UpdateProductionServlet.java	
@@ -40,18 +40,19 @@
     protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
 
         var productDto = UpdateProductionDto.builder()
-                .id(req.getParameter("idProduction"))
+                .id(req.getParameter("id"))
                 .worker(req.getParameter("workerId"))
                 .set(req.getParameter("setId"))
                 .madeSets(req.getParameter("madeSets"))
                 .dateOfProduction(req.getParameter("dateOfProduction"))
                 .build();
+
         try {
             productionService.update(productDto);
             resp.sendRedirect("./production");
         } catch (ValidationException exception) {
+
             req.setAttribute("errors", exception.getErrors());
-            req.setAttribute("id",req.getParameter("idProduction"));
             doGet(req, resp);
         }
     }
Index: src/main/java/by/kozlov/jdbc/starter/servlet/ProductionServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package by.kozlov.jdbc.starter.servlet;\n\nimport by.kozlov.jdbc.starter.service.ProductionService;\nimport by.kozlov.jdbc.starter.utils.JspHelper;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\n@WebServlet(\"/production\")\npublic class ProductionServlet extends HttpServlet {\n\n    private ProductionService productionService = ProductionService.getInstance();\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        resp.setContentType(\"text/html\");\n\n        if (req.getParameter(\"workerId\") != null) {\n            Integer workerId = Integer.valueOf(req.getParameter(\"workerId\"));\n            req.setAttribute(\"sets\",productionService.findAllByWorkerId(workerId));\n        }\n        req.setAttribute(\"productions\",productionService.findAll());\n        req.getRequestDispatcher(JspHelper.getPath(\"production\"))\n                .forward(req,resp);\n    }\n}\n
===================================================================
diff --git a/src/main/java/by/kozlov/jdbc/starter/servlet/ProductionServlet.java b/src/main/java/by/kozlov/jdbc/starter/servlet/ProductionServlet.java
--- a/src/main/java/by/kozlov/jdbc/starter/servlet/ProductionServlet.java	
+++ b/src/main/java/by/kozlov/jdbc/starter/servlet/ProductionServlet.java	
@@ -14,7 +14,7 @@
 @WebServlet("/production")
 public class ProductionServlet extends HttpServlet {
 
-    private ProductionService productionService = ProductionService.getInstance();
+    private final ProductionService productionService = ProductionService.getInstance();
 
     @Override
     protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
@@ -24,6 +24,7 @@
         if (req.getParameter("workerId") != null) {
             Integer workerId = Integer.valueOf(req.getParameter("workerId"));
             req.setAttribute("sets",productionService.findAllByWorkerId(workerId));
+            req.setAttribute("workerId",workerId);
         }
         req.setAttribute("productions",productionService.findAll());
         req.getRequestDispatcher(JspHelper.getPath("production"))
